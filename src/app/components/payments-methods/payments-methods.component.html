<div id="payments-methods" class="text-center mt-5">
  <h1 class="text-color-orange title-payments-methods">Como prefere ajudar?</h1>
  <div id="typeProduct" class="mt-5">
    <p-card
      header="Cota 10"
      styleClass="text-color-green"
      [style]="{ width: '360px', 'background-color': '#E4B35BFF' }"
      [ngStyle]="
        typeProduct == 'cota10'
          ? { opacity: 1 }
          : typeProduct == ''
            ? { opacity: 1 }
            : { opacity: 0.2 }
      "
    >
      <ng-template pTemplate="header">
        <img alt="Card" src="assets/imgs/cota-10.jpg" />
      </ng-template>
      <p class="text-center text-font-20">
        <strong> Envie 10 livros e 10 revistas espíritas para a África. </strong
        ><br />Valor fixo <br />
        R$195,00
      </p>
      <ng-template pTemplate="footer">
        <hr />
        <p-button
          label="Quero ajudar"
          icon="pi pi-check"
          styleClass="w-100"
          (click)="setTypeProduct('cota10')"
          [style]="{ 'background-color': '#51725f', 'border-color': '#51725f' }"
        ></p-button>
      </ng-template>
    </p-card>
    <p-card
      header="Valor avulso"
      styleClass="text-color-orange"
      [style]="{ width: '360px', 'background-color': '#51725f' }"
      [ngStyle]="
        typeProduct == 'value'
          ? { opacity: 1 }
          : typeProduct == ''
            ? { opacity: 1 }
            : { opacity: 0.2 }
      "
    >
      <ng-template pTemplate="header">
        <img alt="Card" src="assets/imgs/valor-avulso.jpg" />
      </ng-template>
      <p class="text-center text-font-20">
        <strong> Contribua com o valor que puder. </strong><br />A partir de
        <br />
        R$30,00
      </p>
      <ng-template pTemplate="footer">
        <hr />
        <p-button
          label="Quero ajudar"
          icon="pi pi-check"
          styleClass="w-100"
          [style]="{ 'background-color': '#e4b35b', 'border-color': '#e4b35b' }"
          (click)="setTypeProduct('value')"
        ></p-button>
      </ng-template>
    </p-card>
  </div>
</div>
<div id="payments-contents" class="mt-5" *ngIf="typeProduct != ''">
  <div class="text-left">
    <p-messages></p-messages>
  </div>
  <div class="row">
    <div class="col-md-12 col-dm-12">
      <div class="flex flex-column gap-2">
        <label htmlFor="fullnameCustomer">Nome completo</label>
        <input
          id="fullnameCustomer"
          type="text"
          class="w-100"
          placeholder="Digite aqui..."
          [(ngModel)]="this.customer.name"
          pInputText
        />
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-md-6 col-sm-12">
      <div class="flex flex-column gap-2">
        <label htmlFor="emailCustomer">E-mail</label>
        <input
          id="emailCustomer"
          type="email"
          class="w-100"
          placeholder="Digite aqui..."
          [(ngModel)]="this.customer.email"
          pInputText
        />
      </div>
    </div>
    <div class="col-md-6 col-sm-12">
      <div class="flex flex-column gap-2">
        <label htmlFor="taxIdCustomer">CPF ou CNPJ</label>
        <input
          id="taxIdCustomer"
          type="text"
          class="w-100"
          placeholder="Digite aqui..."
          [(ngModel)]="this.customer.tax_id"
          pInputText
        />
        <small id="taxIdCustomerHelp"
          >Digite o CPF ou CNPJ <b>sem pontução</b>.</small
        >
      </div>
    </div>
  </div>
  <div *ngFor="let phone of this.customer.phones; index as i" class="row">
    <div class="col-md-12 col-sm-12">
      <div class="flex flex-column gap-2">
        <label htmlFor="numberPhoneCustomer{{ i }}">Telefone</label>
        <p-inputMask
          id="numberPhoneCustomer{{ i }}"
          type="text"
          styleClass="w-100"
          mask="+99 (99) 99999-9999"
          placeholder="Digite aqui..."
          [(ngModel)]="phone.number"
        ></p-inputMask>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-md-12 col-dm-12">
      <ng-container *ngIf="typeProduct == 'cota10'; else productValue">
        <div class="flex flex-column gap-2">
          <label htmlFor="productCota10">Quantidade de cotas</label>
          <input
            id="productCota10"
            type="number"
            class="w-100"
            placeholder="Digite aqui..."
            [(ngModel)]="this.quantity"
            pInputText
          />
        </div>
      </ng-container>
      <ng-template #productValue>
        <div class="flex flex-column gap-2">
          <label htmlFor="productValue">Valor avulso</label>
          <div class="p-inputgroup">
            <span class="p-inputgroup-addon">R$</span>
            <input
              id="productValue"
              type="text"
              class="w-100"
              placeholder="Digite aqui..."
              [(ngModel)]="this.amount"
              pInputText
            />
            <span class="p-inputgroup-addon">.00</span>
          </div>
        </div>
      </ng-template>
    </div>
  </div>
  <div class="row">
    <div class="col-md-12 col-sm-12">
      <button
        pButton
        pRipple
        label="Finalizar"
        class="p-button-success w-100"
        [disabled]="typeProduct == ''"
        (click)="onSubmit()"
      ></button>
    </div>
  </div>
</div>
<div class="mt-5"></div>
<div id="spinner" *ngIf="isShow">
  <div class="d-flex justify-content-center">
    <div
      class="spinner-grow text-light"
      style="width: 6rem; height: 6rem"
      role="status"
    >
      <span class="visually-hidden">Loading...</span>
    </div>
  </div>
</div>
